<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Booking Widget â€” Style API Demo</title>
  <style>
    /* Demo page only */
    :root {
      color-scheme: light dark;
    }

    body {
      margin: 0;
      min-height: 100dvh;
      display: grid;
      place-items: center;
      font: 14px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background: canvas;
      color: canvastext;
    }

    .demo {
      display: grid;
      gap: 1rem;
      align-items: start;
    }

    .controls {
      display: grid;
      gap: .5rem;
      grid-template-columns: 1fr 1fr 1fr 1fr;
    }

    .controls label {
      display: grid;
      gap: .25rem;
      font-size: 12px;
      color: gray;
    }

    .controls input[type="color"],
    .controls select,
    .controls button {
      padding: .45rem .6rem;
      border-radius: 10px;
      border: 1px solid rgba(0, 0, 0, .15);
      background: transparent;
      color: inherit;
      font: inherit;
    }

    .row {
      display: grid;
      gap: 1rem;
    }

    @media (min-width: 720px) {
      .row {
        grid-template-columns: 360px 360px;
      }
    }

    /* Example of host-page theming via CSS vars and ::part */
    .brand-acme booking-widget {
      --bk-brand: #16a34a;
      /* green */
      --bk-radius: 14px;
    }

    .brand-acme booking-widget::part(title) {
      letter-spacing: .2px;
    }

    .brand-acme booking-widget::part(button) {
      border-radius: 999px;
    }
  </style>
</head>

<body>
  <div class="demo">
    <div class="controls">
      <label>Theme
        <select id="theme">
          <option value="">Light</option>
          <option value="dark">Dark</option>
        </select>
      </label>
      <label>Variant
        <select id="variant">
          <option value="solid">Solid</option>
          <option value="ghost">Ghost</option>
        </select>
      </label>
      <label>Brand color
        <input id="brand" type="color" value="#4f46e5" />
      </label>
      <label>Density
        <select id="density">
          <option value="default">Default</option>
          <option value="compact">Compact</option>
        </select>
      </label>
    </div>

    <div class="row">
      <booking-widget id="widget"></booking-widget>

      <!-- Same widget, themed by the host page with CSS vars and ::part -->
      <div class="brand-acme">
        <booking-widget theme="dark" variant="ghost"></booking-widget>
      </div>
    </div>

    <pre id="log" style="margin:0;opacity:.7"></pre>
  </div>

  <script type="module">
    import './booking-widget.js';
    const widget = document.getElementById("widget");
    const log = document.getElementById("log");
    document.getElementById("theme").addEventListener("change", (e) => {
      const v = e.target.value;
      if (v) widget.setAttribute("theme", v);
      else widget.removeAttribute("theme");
    });
    document.getElementById("variant").addEventListener("change", (e) => {
      widget.setAttribute("variant", e.target.value);
    });
    document.getElementById("density").addEventListener("change", (e) => {
      const v = e.target.value;
      if (v === "compact") widget.setAttribute("density", "compact");
      else widget.removeAttribute("density");
    });
    document.getElementById("brand").addEventListener("input", (e) => {
      widget.style.setProperty("--bk-brand", e.target.value);
    });
    // Listen for bookings (what a host page would do)
    addEventListener("book", (e) => {
      const d = e.detail;
      log.textContent = `Booked: ${JSON.stringify(d)}`;
    });
  </script>
</body>

</html>
