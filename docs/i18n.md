# Internationalization and RTL Support

Capsule components expose locale hooks to help with internationalization
from the start. The core package exports `getLocale`, `setLocale`,
`onLocaleChange` and formatting helpers. Setting a locale updates the document
`lang` and `dir` attributes and notifies components to react accordingly.

```js
import { setLocale, onLocaleChange, formatNumber, formatDate } from '@capsule-ui/core';

setLocale({ lang: 'ar', dir: 'rtl' }); // switch to Arabic right‑to‑left

onLocaleChange(({ lang, dir }) => {
  console.log(`locale is now ${lang} (${dir})`);
});

console.log(formatNumber(1234.56));
console.log(formatDate(new Date()));
```

Components like `<caps-button>`, `<caps-input>`, `<caps-tabs>` and
`<caps-modal>` listen for locale changes and apply the appropriate `dir`
attribute when one is not explicitly provided. Keyboard interactions in
`<caps-tabs>` automatically flip when running in right‑to‑left mode.

`formatNumber` and `formatDate` use `Intl` to provide locale‑aware number and
date formatting, so consumers get consistent output without wiring their own
formatters.

## Example

The [`examples/rtl.html`](../examples/rtl.html) file demonstrates switching
locales at runtime and how components respond to RTL layouts.

## Locale-aware date picker

```html
<label for="birthday">Birthday</label>
<input id="birthday" type="date" aria-label="Choose date" />
<script type="module">
  import { formatDate } from '@capsule-ui/core';
  const input = document.getElementById('birthday');
  input.value = formatDate(new Date(), { year: 'numeric', month: '2-digit', day: '2-digit' });
</script>
```

`formatDate` ensures the initial value respects the current locale.
